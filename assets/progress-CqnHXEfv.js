import{ah as g,h as v,j as r}from"./vendor-TecACWjj.js";const h=g("progress",()=>{const t=v((()=>{const e=localStorage.getItem("geographyProgress");return e?JSON.parse(e):{completedTopics:[],quizScores:{},studyTime:0,lastActive:Date.now()}})()),s=()=>{localStorage.setItem("geographyProgress",JSON.stringify(t.value))},a=e=>{t.value.completedTopics.includes(e)||(t.value.completedTopics.push(e),s())},c=(e,o)=>{t.value.quizScores[e]||(t.value.quizScores[e]={score:0,lastAttempt:Date.now(),attempts:0}),t.value.quizScores[e].score=o,t.value.quizScores[e].lastAttempt=Date.now(),t.value.quizScores[e].attempts++,s()},u=e=>{t.value.studyTime+=e,t.value.lastActive=Date.now(),s()},l=r(()=>{const o=t.value.completedTopics.length;return Math.round(o/10*100)}),n=r(()=>{const e=Object.values(t.value.quizScores);if(e.length===0)return 0;const o=e.reduce((m,p)=>m+p.score,0);return Math.round(o/e.length)}),i=r(()=>{const e=Math.floor(t.value.studyTime/60),o=t.value.studyTime%60;return e>0?`${e}小時${o}分鐘`:`${o}分鐘`});return{progress:t,completeTopic:a,updateQuizScore:c,addStudyTime:u,totalProgress:l,averageScore:n,formattedStudyTime:i,resetProgress:()=>{t.value={completedTopics:[],quizScores:{},studyTime:0,lastActive:Date.now()},s()}}});export{h as u};
